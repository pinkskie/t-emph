"use strict";(self["webpackChunkhard_js"]=self["webpackChunkhard_js"]||[]).push([[920],{8686:function(e,s,r){r.d(s,{Z:function(){return F}});var a=r(6252),t=r(9963),i=r(3577);const n={class:"Upsert fullPage"},u={class:"form-title"},o={class:"form-inputs"},m={class:"form-inputs-item"},l={key:0,class:"error"},p={class:"form-inputs-item"},d={key:0,class:"error"},c={class:"form-inputs-item"},v={key:0,class:"error"},w={class:"form-inputs-item"},f={key:0,class:"error"},h={class:"form-inputs-item"},$={key:0,class:"error"},_={class:"btn",type:"submit"};function g(e,s,r,g,N,U){const C=(0,a.up)("TextField");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("form",{class:"form",onSubmit:s[5]||(s[5]=(0,t.iM)(((...e)=>U.submitForm&&U.submitForm(...e)),["prevent"]))},[(0,a._)("div",u,[(0,a._)("h1",null,(0,i.zw)(g.isCreate?"Create new user":"Update user"),1)]),(0,a._)("div",o,[(0,a._)("div",m,[(0,a.Wm)(C,{type:"text",input:g.values.username,"onUpdate:input":s[0]||(s[0]=e=>g.values.username=e),placeholder:"Username"},null,8,["input"]),g.v$.username.$error?((0,a.wg)(),(0,a.iD)("span",l,(0,i.zw)(g.v$.username.$errors[0]?.$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",p,[(0,a.Wm)(C,{type:"text",input:g.values.firstName,"onUpdate:input":s[1]||(s[1]=e=>g.values.firstName=e),placeholder:"FirstName"},null,8,["input"]),g.v$.firstName.$error?((0,a.wg)(),(0,a.iD)("span",d,(0,i.zw)(g.v$.firstName.$errors[0]?.$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",c,[(0,a.Wm)(C,{type:"text",input:g.values.lastName,"onUpdate:input":s[2]||(s[2]=e=>g.values.lastName=e),placeholder:"LastName"},null,8,["input"]),g.v$.lastName.$error?((0,a.wg)(),(0,a.iD)("span",v,(0,i.zw)(g.v$.lastName.$errors[0]?.$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",w,[(0,a.Wm)(C,{type:"password",input:g.values.password.password,"onUpdate:input":s[3]||(s[3]=e=>g.values.password.password=e),placeholder:"Password"},null,8,["input"]),g.v$.password.$error?((0,a.wg)(),(0,a.iD)("span",f,(0,i.zw)(g.v$.password.password.$errors[0]?.$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",h,[(0,a.Wm)(C,{type:"password",input:g.values.password.confirm,"onUpdate:input":s[4]||(s[4]=e=>g.values.password.confirm=e),placeholder:"Confirm password"},null,8,["input"]),g.v$.password.confirm.$error?((0,a.wg)(),(0,a.iD)("span",$,(0,i.zw)(g.v$.password.confirm.$errors[0]?.$message),1)):(0,a.kq)("",!0)]),(0,a._)("button",_,(0,i.zw)(g.isCreate?"Create":"Update"),1)])],32)])}var N=r(2262),U=r(2201),C=r(4028),y=r(5293),k=r(2587),q={name:"UpsertForm",emits:["create","update"],components:{TextField:y.Z},props:{user:{type:Object,default:null}},setup(e){const s=(0,U.tv)(),r=(0,U.yj)(),t=r.params.id,i=(0,N.iH)(!1),n=k.BM.regex(/^(?=.*[A-Z])(?=.*\d).{8,}$/),u=k.BM.regex(/^[A-Za-z0-9.@+-_]+$/),o=(0,N.qj)({username:e.user?.username,password:{password:"",confirm:""},firstName:e.user?.first_name,lastName:e.user?.first_name}),m=(0,N.Fl)((()=>({username:{containUsernameRequirement:k.BM.withMessage("150 characters or fewer. Letters, digits and @/./+/-/_",u),required:k.C1,maxValue:(0,k.BS)(150),minLength:(0,k.Ei)(4)},firstName:{required:k.C1,maxValue:(0,k.BS)(150)},lastName:{required:k.C1,maxValue:(0,k.BS)(150)},password:{password:{required:k.C1,containsPasswordRequirement:k.BM.withMessage("Password should be 8+ characters, 1 capital, 1 numeric",n)},confirm:{required:k.C1,sameAs:(0,k.sH)(o.password.password)}}}))),l=(0,C.ZP)(m,o);return(0,a.bv)((()=>"CreateUser"===r.name?i.value=!0:null)),{values:o,v$:l,isCreate:i,router:s,id:t}},methods:{submitForm(){this.v$.$validate(),0===this.v$.$errors.length&&(this.id?this.$emit("update",this.id,{username:this.values.username,first_name:this.values.firstName,last_name:this.values.lastName,password:this.values.password.password,is_active:!0,is_superuser:!1,last_login:Date.now()}):this.$emit("create",{username:this.values.username,first_name:this.values.firstName,last_name:this.values.lastName,password:this.values.password.password,is_active:!0,is_superuser:!1,last_login:Date.now()}))}}},b=r(3744);const x=(0,b.Z)(q,[["render",g]]);var F=x},6434:function(e,s,r){r.r(s),r.d(s,{default:function(){return l}});var a=r(6252);function t(e,s,r,t,i,n){const u=(0,a.up)("UpsertForm");return(0,a.wg)(),(0,a.j4)(u,{onCreate:t.createUser},null,8,["onCreate"])}var i=r(8686),n=r(1006),u={name:"CreateUser",components:{UpsertForm:i.Z},setup(){const e=async e=>{try{await n.Z.createUser(e)}catch(s){console.error(s)}};return{createUser:e}}},o=r(3744);const m=(0,o.Z)(u,[["render",t]]);var l=m}}]);
//# sourceMappingURL=920.6a959b82.js.map